## Update

1. 用来记录组件状态的改变
2. 存放 UpdateQueue
3. 多个 Update 可以同时存在

## scheduleRootUpdate

基于 01.render 继续

```js
function scheduleRootUpdate(
  current: Fiber,
  element: ReactNodeList,
  expirationTime: ExpirationTime,
  callback: ?Function
) {
  const update = createUpdate(expirationTime);
  // Caution: React DevTools currently depends on this property
  // being called "element".
  update.payload = { element };

  callback = callback === undefined ? null : callback;
  if (callback !== null) {
    warningWithoutStack(
      typeof callback === 'function',
      'render(...): Expected the last optional `callback` argument to be a ' +
        'function. Instead received: %s.',
      callback
    );
    update.callback = callback;
  }

  flushPassiveEffects();
  enqueueUpdate(current, update);
  scheduleWork(current, expirationTime);

  return expirationTime;
}

export const UpdateState = 0;
export const ReplaceState = 1;
export const ForceUpdate = 2;
export const CaptureUpdate = 3; // 错误捕获
export function createUpdate(expirationTime: ExpirationTime): Update<*> {
  return {
    expirationTime: expirationTime, // 更新的过期时间

    tag: UpdateState,
    payload: null, // 操作的内容,第一个参数
    callback: null,

    next: null, // 下一个update,存放在updateQueue 是链表结构
    nextEffect: null // 下一个副作用
  };
}
```
